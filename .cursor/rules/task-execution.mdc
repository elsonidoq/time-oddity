---
description: 
globs: 
alwaysApply: false
---
# Rule: Follow Strict Test-Driven Development (TDD) Workflow

For every assigned task, you must adhere to the following strict TDD process:

1. **Write Tests First**
   - Before writing any implementation code, create all required tests based on the task description.
   - Ensure the project is in a "red" state (i.e., tests fail due to missing or incomplete implementation).

2. **Validate Red State**
   - Confirm that new tests fail for the expected reasons. 
   - If a test passes prematurely, stop and revise the test—it is not properly validating unimplemented logic.

3. **Implement Minimal Code**
   - Write only the minimal code required to make the tests pass.
   - Avoid adding any extra logic or refactoring at this stage.

4. **Confirm Green State**
   - Ensure all newly written tests now pass.
   - Do not proceed unless all tests for this task are green.

5. **User Verification (If Applicable)**
   - If the task affects visible behavior or user interaction, prompt the user to manually verify the results.

6. **Run Full Test Suite**
   - Execute the complete test suite.
   - Confirm that **all** tests (new and existing) pass (green state).

7. **Error Recovery**
   - If any test fails, attempt to fix it silently.
   - If the same error persists after 3 retries, stop and request clarification from the user.

⛔ **Never skip a step. Always prioritize correctness and minimalism.**
